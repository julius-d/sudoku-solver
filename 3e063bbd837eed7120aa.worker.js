!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return(a="function"===typeof Symbol&&"symbol"===u(Symbol.iterator)?function(t){return u(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":u(t)})(t)}function l(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}n.r(e);var h=function t(){r(this,t)},y=function t(){r(this,t)},v=function(){function t(e,n){r(this,t),this.xKoordinate=void 0,this.yKoordinate=void 0,this.xKoordinate=e,this.yKoordinate=n}return i(t,[{key:"getXKoordinate",value:function(){return this.xKoordinate}},{key:"setXKoordinate",value:function(t){this.xKoordinate=t}},{key:"getYKoordinate",value:function(){return this.yKoordinate}},{key:"setYKoordinate",value:function(t){this.yKoordinate=t}},{key:"toString",value:function(){return"Pos: ["+this.xKoordinate+","+this.yKoordinate+"]"}},{key:"valueOf",value:function(){return"["+this.xKoordinate+"]["+this.yKoordinate+"]"}}]),t}(),d=function(t){function e(t,n){var o;if(r(this,e),(o=l(this,c(e).call(this))).x=void 0,o.y=void 0,t<0||n<0||t>2||n>2)throw new Error("illegal argument x:"+t+" y: "+n);return o.x=t,o.y=n,o}return s(e,t),i(e,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"getAll",value:function(){return e.allInstances}},{key:"allSudokuPositionInThisBox",value:function(){for(var t=0,e=0,n=0,r=!0,o=[];r;){var i=new v(3*this.x+t,3*this.y+e);++n>=9&&(r=!1),t=n%3,e=Math.trunc(n/3),o.push(i)}return o}},{key:"toString",value:function(){return"Box: ["+this.x+","+this.y+"]"}}],[{key:"createAll",value:function(){for(var t=[],n=0;n<3;n++){t[n]=[];for(var r=0;r<3;r++)t[n][r]=new e(n,r)}return t}},{key:"createByPositon",value:function(t){var e=t.getXKoordinate(),n=t.getYKoordinate();return e=Math.trunc(e/3),n=Math.trunc(n/3),this.allInstances[e][n]}},{key:"create",value:function(t,e){return this.allInstances[t][e]}}]),e}(y);d.allInstances=d.createAll();var g,p=function(){function t(e,n,o,i){r(this,t),this.type=void 0,this.position=void 0,this.number=void 0,this.from=void 0,this.type=e,this.position=n,this.number=o,this.from=i}return i(t,[{key:"getNumber",value:function(){return this.number}},{key:"setNumber",value:function(t){this.number=t}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(t){this.position=t}},{key:"getFrom",value:function(){return this.from}}]),t}();!function(t){t[t.CANT_BE=0]="CANT_BE",t[t.NUMBER_FOUND=1]="NUMBER_FOUND"}(g||(g={}));var b=g,m=function(t){function e(){var t,n;r(this,e);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(n=l(this,(t=c(e)).call.apply(t,[this].concat(i)))).ruleName="BoxCantBeRule",n}return s(e,t),i(e,[{key:"finderLogic",value:function(t){var e=[],n=d.createByPositon(t.getPosition()),r=!0,o=!1,i=void 0;try{for(var u,a=n.allSudokuPositionInThisBox()[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var l=u.value;l.getYKoordinate()===t.getPosition().getYKoordinate()&&l.getXKoordinate()===t.getPosition().getXKoordinate()||e.push(new p(b.CANT_BE,l,t.getNumber(),this.ruleName))}}catch(c){o=!0,i=c}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return e}}]),e}(h),w=function(t){function e(){var t,n;r(this,e);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(n=l(this,(t=c(e)).call.apply(t,[this].concat(i)))).name="HorizontalCantBeRule",n}return s(e,t),i(e,[{key:"finderLogic",value:function(t){for(var e=[],n=t.getPosition().getXKoordinate(),r=0;r<9;r++)r!==t.getPosition().getYKoordinate()&&e.push(new p(b.CANT_BE,new v(n,r),t.getNumber(),this.name));return e}}]),e}(h),P=function(t){function e(){var t,n;r(this,e);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(n=l(this,(t=c(e)).call.apply(t,[this].concat(i)))).name="VerticalCantBeRule",n}return s(e,t),i(e,[{key:"finderLogic",value:function(t){for(var e=[],n=t.getPosition().getYKoordinate(),r=0;r<9;r++)r!==t.getPosition().getXKoordinate()&&e.push(new p(b.CANT_BE,new v(r,n),t.getNumber(),this.name));return e}}]),e}(h),K=function(t){function e(){var t,n;r(this,e);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(n=l(this,(t=c(e)).call.apply(t,[this].concat(i)))).name="OnePositonCantBeRule",n}return s(e,t),i(e,[{key:"finderLogic",value:function(t){for(var e=[],n=1;n<=9;n++)n!==t.getNumber()&&e.push(new p(b.CANT_BE,t.getPosition(),n,this.name));return e}}]),e}(h),k=function t(){r(this,t)},N=function(t){function e(){var t;return r(this,e),(t=l(this,c(e).call(this))).speicher=void 0,t.name="OnlyOnePlaceHorizontalLine",t.speicher=e.initSpeicher(),t}return s(e,t),i(e,[{key:"finderLogic",value:function(t){var n=this,r=[];return t.forEach((function(t){var o=n.speicher.get(t.getPosition().getXKoordinate()).get(t.getNumber())||[];o.find((function(e){return e.getXKoordinate()===t.getPosition().getXKoordinate()&&e.getYKoordinate()===t.getPosition().getYKoordinate()}))||(o.push(t.getPosition()),8===o.length&&r.push(new p(b.NUMBER_FOUND,e.onlyPossiblePosition(o),t.getNumber(),n.name)))})),r}},{key:"reset",value:function(){this.speicher=e.initSpeicher()}}],[{key:"initSpeicher",value:function(){for(var t=new Map,e=0;e<9;e++){for(var n=new Map,r=1;r<=9;r++)n.set(r,[]);t.set(e,n)}return t}},{key:"onlyPossiblePosition",value:function(t){for(var e=function(e){if(!t.find((function(t){return t.getYKoordinate()===e})))return{v:new v(t[0].getXKoordinate(),e)}},n=0;n<9;n++){var r=e(n);if("object"===typeof r)return r.v}throw new Error("shoudl not happen")}}]),e}(k),S=function(t){function e(){var t;return r(this,e),(t=l(this,c(e).call(this))).speicher=void 0,t.name="OnlyOnePlaceVerticalLine",t.speicher=e.initSpeicher(),t}return s(e,t),i(e,[{key:"finderLogic",value:function(t){var n=this,r=[];return t.forEach((function(t){var o=n.speicher.get(t.getPosition().getYKoordinate()).get(t.getNumber())||[];o.find((function(e){return e.getXKoordinate()===t.getPosition().getXKoordinate()&&e.getYKoordinate()===t.getPosition().getYKoordinate()}))||(o.push(t.getPosition()),8===o.length&&r.push(new p(b.NUMBER_FOUND,e.onlyPossiblePosition(o),t.getNumber(),n.name)))})),r}},{key:"reset",value:function(){this.speicher=e.initSpeicher()}}],[{key:"initSpeicher",value:function(){for(var t=new Map,e=0;e<9;e++){for(var n=new Map,r=1;r<=9;r++)n.set(r,[]);t.set(e,n)}return t}},{key:"onlyPossiblePosition",value:function(t){for(var e=function(e){if(!t.find((function(t){return t.getXKoordinate()===e})))return{v:new v(e,t[0].getYKoordinate())}},n=0;n<9;n++){var r=e(n);if("object"===typeof r)return r.v}throw new Error("should not happen")}}]),e}(k);function O(t,e){return t.getXKoordinate()===e.getXKoordinate()&&t.getYKoordinate()===e.getYKoordinate()}var x=function(t){function e(){var t,n;r(this,e);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(n=l(this,(t=c(e)).call.apply(t,[this].concat(i)))).speicher=e.init(),n.name="OnlyOnePlaceBox",n}return s(e,t),i(e,[{key:"finderLogic",value:function(t){var e=this,n=[],r=!0,o=!1,i=void 0;try{for(var u,a=function(){var t=u.value,r=t.getPosition(),o=t.getNumber(),i=d.createByPositon(r),a=e.speicher.get(i).get(o);if(a&&!a.find((function(t){return O(r,t)}))&&(a.push(r),8===a.length)){var l=!0,c=!1,f=void 0;try{for(var s,h=function(){var t=s.value;a.find((function(e){return O(t,e)}))||n.push(new p(b.NUMBER_FOUND,t,o,e.name))},y=i.allSudokuPositionInThisBox()[Symbol.iterator]();!(l=(s=y.next()).done);l=!0)h()}catch(v){c=!0,f=v}finally{try{l||null==y.return||y.return()}finally{if(c)throw f}}}},l=t[Symbol.iterator]();!(r=(u=l.next()).done);r=!0)a()}catch(c){o=!0,i=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}}],[{key:"init",value:function(){for(var t=new Map,e=0;e<3;e++)for(var n=0;n<3;n++){var r=new Map;t.set(d.create(e,n),r)}t.values();var o=!0,i=!1,u=void 0;try{for(var a,l=t.values()[Symbol.iterator]();!(o=(a=l.next()).done);o=!0)for(var c=a.value,f=1;f<=9;f++)c.set(f,[])}catch(s){i=!0,u=s}finally{try{o||null==l.return||l.return()}finally{if(i)throw u}}return t}}]),e}(k),B=function(t){function e(){var t,n;r(this,e);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(n=l(this,(t=c(e)).call.apply(t,[this].concat(i)))).notThisNumber=e.createBoolean3dArray(),n.name="OnePositionFinder",n}return s(e,t),i(e,[{key:"finderLogic",value:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var a=i.value,l=a.getPosition(),c=a.getNumber();this.notThisNumber[l.getXKoordinate()][l.getYKoordinate()][c-1]=!0;for(var f=0,s=-1,h=0;h<9;h++)this.notThisNumber[l.getXKoordinate()][l.getYKoordinate()][h]||(f++,s=h);1===f&&e.push(new p(b.NUMBER_FOUND,l,s+1,this.name))}}catch(y){r=!0,o=y}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return e}}],[{key:"createBoolean3dArray",value:function(){for(var t=[],e=0;e<9;e++){t[e]=[];for(var n=0;n<9;n++){t[e][n]=[];for(var r=0;r<9;r++)t[e][n][r]=!1}}return t}}]),e}(k),_=function(){function t(){r(this,t),this.numberFound=[[],[],[],[],[],[],[],[],[]]}return i(t,[{key:"removeAlreadySeen",value:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var a=i.value;a.type===b.NUMBER_FOUND?this.numberFound[a.getPosition().getXKoordinate()][a.getPosition().getYKoordinate()]||(this.numberFound[a.getPosition().getXKoordinate()][a.getPosition().getYKoordinate()]=a.getNumber(),e.push(a)):e.push(a)}}catch(l){r=!0,o=l}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return e}}]),t}();let E=[new m,new w,new P,new K],M=[new N,new S,new x,new B],X=new _;addEventListener("message",({data:t})=>{console.log("worker got message",t);let e=[new p(b.NUMBER_FOUND,new v(t.field[0],t.field[1]),t.value,"USER")];do{let t=[];for(const n of E)for(const r of e)t=t.concat(n.finderLogic(r));t.forEach(t=>{postMessage(t)}),e=[];for(const n of M)e=e.concat(n.finderLogic(t));e=X.removeAlreadySeen(e),e.forEach(t=>{postMessage(t)})}while(e.length>0)})}]);
//# sourceMappingURL=3e063bbd837eed7120aa.worker.js.map